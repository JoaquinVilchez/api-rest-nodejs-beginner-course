<script>
    let productList = document.createElement('ul')

    const myHeaders = new Headers();
    myHeaders.append('authorization', `Bearer ${localStorage.token}`)

    fetch('/api/product', {
        method: 'GET',
        headers: myHeaders
    })
        .then(res => res.json())
        .then(data => {
            data.products.map(product => {
                let text = document.createTextNode(product.name)
                let elm = document.createElement('li')
                elm.appendChild(text)
                productList.appendChild(elm)
            })

            document.body.appendChild(productList)
        })
</script>